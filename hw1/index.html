<!DOCTYPE html>
<html lang-"en-us">
    <head>
        <title>Registration</title>
        <meta charset="utf-8">
        <meta name="author" content="Cassie Wang">
    </head>
    <body>
        <script>
            function onSubmit() {
                document.getElementById('timestamp-input').value = Date.now();

                // Validate passwords match
                if (document.getElementById('password-input').value != document.getElementById('password-confirmation-input').value) {
                    alert("Passwords do not match");
                    return false;
                }

                var age = new Date(document.getElementById('date-of-birth-input').value);
                var now = new Date();
                // Year
                if ((now.getUTCFullYear() - age.getUTCFullYear()) < 18) {
                    console.log("now.getYear() - age.getYear() < 18");
                    alert("Must be 18 years or older to continue.");
                    return false;
                } else if (now.getUTCFullYear() - age.getUTCFullYear() == 18) {
                    console.log("now.getYear() - age.getYear() == 18");

                    if (now.getUTCMonth() < age.getUTCMonth()) {
                        console.log("now.getMonth() < age.getMonth()");

                        alert("Must be 18 years or older to continue.");
                        return false;
                    } else if (now.getUTCMonth() == age.getUTCMonth()) {
                        console.log("now.getMonth() == age.getMonth()");

                        if (now.getUTCDate() < age.getUTCDate()) {
                            console.log("now.getDate() < age.getDate()");
                            alert("Must be 18 years or older to continue.");
                            return false;
                        }

                    }

                }

                return false;
            }

        </script>
        <form action="formProcessor.html" method="get">
            Account Name 
            <br>
            <input type="text" name="accountName" placeholder="e.g. JohnDoe123" required>
            <br><br>

            Display Name (optional)
            <br>
            <input type="text" name="displayName" placeholder="e.g. Johnny">
            <br><br>

            Password 
            <br>
            <input type="password" id="password-input" name="password" required>
            <br><br>

            Password Confirmation
            <br>
            <input type="password" id="password-confirmation-input" name="passwordConfirmation" required>
            <br><br>

            E-mail Address 
            <br>
            <input type="email" name="email" placeholder="e.g. john.doe123@gmail.com" required>
            <br><br>

            Phone Number 
            <br>
            <input type="tel" name="phone" placeholder="e.g. 123-123-1234" pattern="\d{3}-\d{3}-\d{4}" required>
            <br><br>

            Date of Birth 
            <br>
            <input type="date" id="date-of-birth-input" name="dateOfBirth" required>
            <br><br>

            Zipcode
            <br>
            <input type="text" name="zipcode" placeholder="e.g. 77005" pattern="\d{5}(-\d{4})?" required>
            <br><br>

            <!-- Hidden Timestamp -->
            <br>
            <input type="hidden" name="timestamp" id="timestamp-input">
            <br><br>


            <button type="submit" onclick="return onSubmit()">Submit</button>
            <button type="reset" value="clear">Clear</button>

        </form>



    </body>
</html>
